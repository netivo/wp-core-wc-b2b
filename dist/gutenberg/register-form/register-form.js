(()=>{var e={97(e){e.exports=function(){"use strict";var e={en:{required:"This field is required",email:"This field requires a valid e-mail address",number:"This field requires a number",integer:"This field requires an integer value",url:"This field requires a valid website URL",tel:"This field requires a valid telephone number",maxlength:"This fields length must be < ${1}",minlength:"This fields length must be > ${1}",min:"Minimum value for this field is ${1}",max:"Maximum value for this field is ${1}",pattern:"Please match the requested format",equals:"The two fields do not match",default:"Please enter a correct value"}};function t(e){var t=arguments;return this.replace(/\${([^{}]*)}/g,function(e,r){return t[r]})}function r(e){return e.pristine.self.form.querySelectorAll('input[name="'+e.getAttribute("name")+'"]:checked').length}var n={classTo:"form-group",errorClass:"has-danger",successClass:"has-success",errorTextParent:"form-group",errorTextTag:"div",errorTextClass:"text-help"},a="pristine-error",s=["required","min","max","minlength","maxlength","pattern"],i=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o=/-message(?:-([a-z]{2}(?:_[A-Z]{2})?))?/,l="en",u={},c=function(e,t){t.name=e,void 0===t.priority&&(t.priority=1),u[e]=t};function m(r,i,c){var m=this;function p(e,t,r,n){var a=u[r];if(a&&(e.push(a),n)){var s="pattern"===r?[n]:n.split(",");s.unshift(null),t[r]=s}}function f(r){for(var n=[],a=!0,s=0;r.validators[s];s++){var i=r.validators[s],o=r.params[i.name]?r.params[i.name]:[];if(o[0]=r.input.value,!i.fn.apply(r.input,o)&&(a=!1,"function"==typeof i.msg?n.push(i.msg(r.input.value,o)):"string"==typeof i.msg?n.push(t.apply(i.msg,o)):i.msg===Object(i.msg)&&i.msg[l]?n.push(t.apply(i.msg[l],o)):r.messages[l]&&r.messages[l][i.name]?n.push(t.apply(r.messages[l][i.name],o)):e[l]&&e[l][i.name]?n.push(t.apply(e[l][i.name],o)):n.push(t.apply(e[l].default,o)),!0===i.halt))break}return r.errors=n,a}function d(e){if(e.errorElements)return e.errorElements;var t=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}(e.input,m.config.classTo),r=null,n=null;return(r=m.config.classTo===m.config.errorTextParent?t:t.querySelector("."+m.config.errorTextParent))&&((n=r.querySelector("."+a))||((n=document.createElement(m.config.errorTextTag)).className=a+" "+m.config.errorTextClass,r.appendChild(n),n.pristineDisplay=n.style.display)),e.errorElements=[t,n]}function h(e){var t=d(e),r=t[0],n=t[1],a=e.input,s="error-"+(a.id||Math.floor((new Date).valueOf()*Math.random()));r&&(r.classList.remove(m.config.successClass),r.classList.add(m.config.errorClass),a.setAttribute("aria-describedby",s),a.setAttribute("aria-invalid","true")),n&&(n.setAttribute("id",s),n.setAttribute("role","alert"),n.innerHTML=e.errors.join("<br/>"),n.style.display=n.pristineDisplay||"")}function y(e){var t=function(e){var t=d(e),r=t[0],n=t[1],a=e.input;return r&&(r.classList.remove(m.config.errorClass),r.classList.remove(m.config.successClass),a.removeAttribute("aria-describedby"),a.removeAttribute("aria-invalid")),n&&(n.removeAttribute("id"),n.removeAttribute("role"),n.innerHTML="",n.style.display="none"),t}(e)[0];t&&t.classList.add(m.config.successClass)}return function(e,t,r){e.setAttribute("novalidate","true"),m.form=e,m.config=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e}(t||{},n),m.live=!(!1===r),m.fields=Array.from(e.querySelectorAll("input:not([type^=hidden]):not([type^=submit]), select, textarea")).map(function(e){var t=[],r={},n={};return[].forEach.call(e.attributes,function(e){if(/^data-pristine-/.test(e.name)){var a=e.name.substr(14),i=a.match(o);if(null!==i){var l=void 0===i[1]?"en":i[1];return n.hasOwnProperty(l)||(n[l]={}),void(n[l][a.slice(0,a.length-i[0].length)]=e.value)}"type"===a&&(a=e.value),p(t,r,a,e.value)}else~s.indexOf(e.name)?p(t,r,e.name,e.value):"type"===e.name&&p(t,r,e.value)}),t.sort(function(e,t){return t.priority-e.priority}),m.live&&e.addEventListener(~["radio","checkbox"].indexOf(e.getAttribute("type"))?"change":"input",function(e){m.validate(e.target)}.bind(m)),e.pristine={input:e,validators:t,params:r,messages:n,self:m}}.bind(m))}(r,i,c),m.validate=function(e,t){t=e&&!0===t||!0===e;var r=m.fields;!0!==e&&!1!==e&&(e instanceof HTMLElement?r=[e.pristine]:(e instanceof NodeList||e instanceof(window.$||Array)||e instanceof Array)&&(r=Array.from(e).map(function(e){return e.pristine})));for(var n=!0,a=0;r[a];a++){var s=r[a];f(s)?!t&&y(s):(n=!1,!t&&h(s))}return n},m.getErrors=function(e){if(!e){for(var t=[],r=0;r<m.fields.length;r++){var n=m.fields[r];n.errors.length&&t.push({input:n.input,errors:n.errors})}return t}return e.tagName&&"select"===e.tagName.toLowerCase()?e.pristine.errors:e.length?e[0].pristine.errors:e.pristine.errors},m.addValidator=function(e,t,r,n,a){e instanceof HTMLElement?(e.pristine.validators.push({fn:t,msg:r,priority:n,halt:a}),e.pristine.validators.sort(function(e,t){return t.priority-e.priority})):console.warn("The parameter elem must be a dom element")},m.addError=function(e,t){(e=e.length?e[0]:e).pristine.errors.push(t),h(e.pristine)},m.reset=function(){for(var e=0;m.fields[e];e++)m.fields[e].errorElements=null;Array.from(m.form.querySelectorAll("."+a)).map(function(e){e.parentNode.removeChild(e)}),Array.from(m.form.querySelectorAll("."+m.config.classTo)).map(function(e){e.classList.remove(m.config.successClass),e.classList.remove(m.config.errorClass)})},m.destroy=function(){m.reset(),m.fields.forEach(function(e){delete e.input.pristine}),m.fields=[]},m.setGlobalConfig=function(e){n=e},m}return c("text",{fn:function(e){return!0},priority:0}),c("required",{fn:function(e){return"radio"===this.type||"checkbox"===this.type?r(this):void 0!==e&&""!==e.trim()},priority:99,halt:!0}),c("email",{fn:function(e){return!e||i.test(e)}}),c("number",{fn:function(e){return!e||!isNaN(parseFloat(e))},priority:2}),c("integer",{fn:function(e){return!e||/^\d+$/.test(e)}}),c("minlength",{fn:function(e,t){return!e||e.length>=parseInt(t)}}),c("maxlength",{fn:function(e,t){return!e||e.length<=parseInt(t)}}),c("min",{fn:function(e,t){return!e||("checkbox"===this.type?r(this)>=parseInt(t):parseFloat(e)>=parseFloat(t))}}),c("max",{fn:function(e,t){return!e||("checkbox"===this.type?r(this)<=parseInt(t):parseFloat(e)<=parseFloat(t))}}),c("pattern",{fn:function(e,t){var r=t.match(new RegExp("^/(.*?)/([gimy]*)$"));return!e||new RegExp(r[1],r[2]).test(e)}}),c("equals",{fn:function(e,t){var r=document.querySelector(t);return r&&(!e&&!r.value||r.value===e)}}),m.addValidator=function(e,t,r,n,a){c(e,{fn:t,msg:r,priority:n,halt:a})},m.addMessages=function(t,r){var n=e.hasOwnProperty(t)?e[t]:e[t]={};Object.keys(r).forEach(function(e,t){n[e]=r[e]})},m.setLocale=function(e){l=e},m}()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(97),t=r.n(e);const n=function(){let e={},t=!1,r=0,a=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],r++);let s=function(r){for(let a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t&&"[object Object]"===Object.prototype.toString.call(r[a])?e[a]=n(!0,e[a],r[a]):e[a]=r[a])};for(;r<a;r++)s(arguments[r]);return e},a=n;let s={handler:null,action:"",data:e=>new Promise((e,t)=>{e({})}),beforeSubmit:e=>!0,success:(e,t)=>{},error:(e,t)=>{}};const i=class{constructor(e,t){this.options=a(s,t),this.selector=e,this._submitForm=this._submitForm.bind(this),this.selector.addEventListener("submit",this._submitForm)}_submitForm(e){void 0!==e&&e.preventDefault(),this.options.beforeSubmit(this.selector)&&this.options.data(this.selector).then(e=>{this._sendForm(this.options.action,e).then(e=>{this.options.success(this.selector,e)}).catch(e=>{this.options.error(this.selector,e)})}).catch(e=>{this.options.error(this.selector,e)})}_sendForm(e,t){let r=Object.keys(t).map(e=>"object"!=typeof t[e]||Array.isArray(t[e])||null===t[e]?e+"="+t[e]:Object.keys(t[e]).map(r=>e+"["+r+"]="+t[e][r]).join("&")).join("&");return fetch(e,{method:"POST",cache:"no-cache",credentials:"same-origin",redirect:"follow",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r}).then(e=>e.ok?e.json():e.json().then(function(e){throw Error(e.message)}))}};let o=document.querySelector(".js-contact-form");if(null!==o){let e=o.querySelector('[data-element="loader"]'),r=o.getAttribute("data-recaptcha"),n=new(t())(o,{classTo:"js-per",errorTextParent:"js-per"});new i(o,{action:"/wp-json/netivo/v1/b2b-form",data:e=>new Promise(t=>{let n={company_name:"",nip:"",first_name:"",last_name:"",email:"",phone:"",message:"",agree:"",nonce:"",recaptcha:""},a=e.querySelector('[name="company_name"]'),s=e.querySelector('[name="nip"]'),i=e.querySelector('[name="first_name"]'),o=e.querySelector('[name="last_name"]'),l=e.querySelector('[name="email"]'),u=e.querySelector('[name="phone"]'),c=e.querySelector('[name="message"]'),m=e.querySelector('[name="agree"]'),p=e.querySelector('[name="nonce"]');null!==a&&(n.company_name=a.value),null!==s&&(n.nip=s.value),null!==i&&(n.first_name=i.value),null!==o&&(n.last_name=o.value),null!==l&&(n.email=l.value),null!==u&&(n.phone=u.value),null!==c&&(n.message=c.value),null!==m&&(n.agree=m.checked?1:0),null!==p&&(n.nonce=p.value),""!==r?window.grecaptcha.ready(function(){window.grecaptcha.execute(r,{action:"contact"}).then(function(e){n.recaptcha=e,t(n)})}):t(n)}),beforeSubmit:t=>{let r=n.validate();if(r)e.classList.add("loader--show-in-form"),o.querySelector('[data-element="response"]').style.display="flex";else{let e=t.querySelector(".has-danger").getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:e-100,behavior:"smooth"})}return r},success:(t,r)=>{let n=o.querySelector('[data-element="response"]'),a=o.querySelector('[data-response="success"]');e.classList.remove("loader--show-in-form"),a.innerText=r.message,a.style.display="block",setTimeout(()=>{t.querySelector('[name="company_name"]').value="",t.querySelector('[name="nip"]').value="",t.querySelector('[name="first_name"]').value="",t.querySelector('[name="last_name"]').value="",t.querySelector('[name="email"]').value="",t.querySelector('[name="phone"]').value="",t.querySelector('[name="message"]').value="",t.querySelector("#daneOsobowe").checked=!1,n.style.display="none"},6e3)},error:(t,r)=>{let n=o.querySelector('[data-element="response"]'),a=o.querySelector('[data-response="error"]');e.classList.remove("loader--show-in-form"),a.innerText=r,setTimeout(()=>{n.style.display="none"},6e3)}})}})()})();
//# sourceMappingURL=register-form.js.map